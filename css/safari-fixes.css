/* Safari-specific CSS fixes for octor-affiliates */

/* Safari-specific fixes */
@supports (-webkit-appearance: none) and (not (overflow: -webkit-marquee)) and (not (-ms-ime-align: auto)) {
  /* Otimizações gerais para Safari */
  body {
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
  }
  
  /* Fix para imagens no Safari */
  img {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Otimização de animações no Safari */
  .benefit-item {
    -webkit-will-change: transform, opacity;
    will-change: transform, opacity;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  /* Hero image otimizações */
  .hero-image img {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
  
  /* Scroll suave no Safari */
  * {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Fix para botões no Safari */
  button, .btn {
    -webkit-appearance: none;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
  }
  
  /* Fix para inputs no Safari */
  input, select, textarea {
    -webkit-appearance: none;
    -webkit-border-radius: 0;
    border-radius: var(--border-radius-sm);
  }
  
  /* Fix para header sticky no Safari */
  header {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
}

/* Safari iOS específico */
@supports (-webkit-touch-callout: none) {
  /* Fix para viewport no Safari iOS */
  body {
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Otimização para scroll no Safari iOS */
  .benefits {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Fix para position fixed no Safari iOS */
  header {
    position: -webkit-sticky;
    position: sticky;
  }
  
  /* Otimização de performance para animações */
  .benefit-item {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
  
  /* Fix para hover states no Safari iOS */
  @media (hover: none) and (pointer: coarse) {
    .btn:hover,
    button:hover {
      /* Remove hover effects on touch devices */
      transform: none;
      background-color: inherit;
    }
  }
}

/* WebKit specific optimizations */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  /* Smooth font rendering */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Fix para select no Safari */
  select {
    -webkit-appearance: none;
    background-image: url('data:image/svg+xml;utf8,<svg fill="%23111b3e" height="18" viewBox="0 0 20 20" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M5.516 7.548a1 1 0 0 1 1.415 0L10 10.617l3.07-3.07a1 1 0 1 1 1.415 1.415l-3.777 3.778a1 1 0 0 1-1.415 0L5.516 8.963a1 1 0 0 1 0-1.415z"/></svg>');
    background-repeat: no-repeat;
    background-position: right 0.8em center;
    background-size: 1.1em;
    padding-left: 1em;
    padding-right: 1.8em;
  }
  
  /* Performance optimization */
  .hero-image,
  .how-to-image {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
}
